<script>
    const apiUrl = 'http://simnation.ddns.net:9000/userapi/city/1/city.json';

    fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
            const names = data.names; // Get the lot names
            const onlineCount = data.onlineCount; // Get the online player counts
            const lotsTableBody = document.getElementById('lotsTableBody');
            lotsTableBody.innerHTML = ''; // Clear the loading message

            // Loop through the names and onlineCount arrays to create rows
            for (let i = 0; i < names.length; i++) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${names[i]}</td>
                    <td>${onlineCount[i]}</td>
                `;
                lotsTableBody.appendChild(row);
            }
        })
        .catch(error => {
            const lotsTableBody = document.getElementById('lotsTableBody');
            lotsTableBody.innerHTML = '<tr><td colspan="2">Error loading lots.</td></tr>';
            console.error('Error fetching data:', error);
        });
</script>
